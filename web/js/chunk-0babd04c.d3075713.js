(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0babd04c"],{"0331":function(t,e,i){t.exports=i.p+"img/puzzle2.fafa5efe.jpg"},"11e9":function(t,e,i){var a=i("52a7"),s=i("4630"),n=i("6821"),r=i("6a99"),o=i("69a8"),l=i("c69a"),c=Object.getOwnPropertyDescriptor;e.f=i("9e1e")?c:function(t,e){if(t=n(t),e=r(e,!0),l)try{return c(t,e)}catch(i){}if(o(t,e))return s(!a.f.call(t,e),t[e])}},"1ee4":function(t,e,i){t.exports=i.p+"img/puzzle1.4e2b5c20.jpg"},"36bd":function(t,e,i){"use strict";var a=i("4bf8"),s=i("77f1"),n=i("9def");t.exports=function(t){var e=a(this),i=n(e.length),r=arguments.length,o=s(r>1?arguments[1]:void 0,i),l=r>2?arguments[2]:void 0,c=void 0===l?i:s(l,i);while(c>o)e[o++]=t;return e}},"5dbc":function(t,e,i){var a=i("d3f4"),s=i("8b97").set;t.exports=function(t,e,i){var n,r=e.constructor;return r!==i&&"function"==typeof r&&(n=r.prototype)!==i.prototype&&a(n)&&s&&s(t,n),t}},"601d":function(t,e,i){"use strict";var a=i("b7cc"),s=i.n(a);s.a},"6c7b":function(t,e,i){var a=i("5ca1");a(a.P,"Array",{fill:i("36bd")}),i("9c6c")("fill")},"8b97":function(t,e,i){var a=i("d3f4"),s=i("cb7c"),n=function(t,e){if(s(t),!a(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,a){try{a=i("9b43")(Function.call,i("11e9").f(Object.prototype,"__proto__").set,2),a(t,[]),e=!(t instanceof Array)}catch(s){e=!0}return function(t,i){return n(t,i),e?t.__proto__=i:a(t,i),t}}({},!1):void 0),check:n}},9093:function(t,e,i){var a=i("ce10"),s=i("e11e").concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return a(t,s)}},aa77:function(t,e,i){var a=i("5ca1"),s=i("be13"),n=i("79e5"),r=i("fdef"),o="["+r+"]",l="​",c=RegExp("^"+o+o+"*"),u=RegExp(o+o+"*$"),d=function(t,e,i){var s={},o=n(function(){return!!r[t]()||l[t]()!=l}),c=s[t]=o?e(h):r[t];i&&(s[i]=c),a(a.P+a.F*o,"String",s)},h=d.trim=function(t,e){return t=String(s(t)),1&e&&(t=t.replace(c,"")),2&e&&(t=t.replace(u,"")),t};t.exports=d},b615:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"puzzle",staticStyle:{display:"inline-block"},attrs:{id:"puzzle"}},[i("div",{staticClass:"puzzle-container",style:"padding:"+16*t.scale+"px "+16*t.scale+"px "+28*t.scale+"px;border-radius:"+16*t.scale+"px;"},[i("div",{style:"position:relative;overflow:hidden;width:"+t.dataWidth+"px;"},[i("div",{style:"position:relative;width:"+t.dataWidth+"px;height:"+t.dataHeight+"px;"},[i("img",{ref:"scream",style:"width:"+t.dataWidth+"px;height:"+t.dataHeight+"px;",attrs:{id:"scream",src:t.imgRandom}}),i("canvas",{ref:"puzzleBox",attrs:{id:"puzzle-box",width:t.dataWidth,height:t.dataHeight}})]),i("div",{staticClass:"puzzle-lost-box",style:"left:"+t.left_Num+"px;width:"+t.dataWidth+"px;height:"+t.dataHeight+"px;"},[i("canvas",{ref:"puzzleShadow",attrs:{id:"puzzle-shadow",width:t.dataWidth,height:t.dataHeight}}),i("canvas",{ref:"puzzleLost",attrs:{id:"puzzle-lost",width:t.dataWidth,height:t.dataHeight}})]),i("p",{ref:"verTips",staticClass:"ver-tips",style:"height: "+22*t.scale+"px;line-height:"+22*t.scale+"px;bottom: "+(t.displayTips?0:-22*t.scale)+"px;font-size: "+12*t.scale+"px;"},[t.verification?[i("span",{style:"color:#42ca6b;line-height:"+22*t.scale+"px;"},[t._v("验证通过")]),i("span")]:t._e(),t.verification?t._e():[i("span",{style:"color:red;line-height:"+22*t.scale+"px;"},[t._v("验证失败:")]),i("span",{style:"margin-left:"+4*t.scale+"px;line-height:"+22*t.scale+"px;"},[t._v("拖动滑块将悬浮图像正确拼合")])]],2)]),i("div",{staticClass:"re-btn",style:"height: "+28*t.scale+"px;padding: "+1*t.scale+"px "+16*t.scale+"px;font-size: "+18*t.scale+"px;",on:{click:t.refreshImg}},[i("a-icon",{attrs:{type:"redo"}})],1)]),i("br"),i("div",{staticClass:"slider-container",style:"width:"+t.dataWidth+"px;"},[i("div",{staticClass:"slider-bar",style:"border-radius:"+24*t.scale+"px;"},[i("p",{staticClass:"slider-bar-text select-none",style:"line-height:"+28*t.scale+"px;font-size:"+12*t.scale+"px;",attrs:{onselectstart:"return false"}},[t._v("按住滑块， 拖动完成上方拼图")])]),i("div",{ref:"sliderBtn",staticClass:"slider-btn",style:"top: "+-7*t.scale+"px;",on:{mousedown:t.startMove,touchstart:t.startMove}},[i("a-icon",{style:"font-size: "+44*t.scale+"px;",attrs:{type:"pause-circle",theme:"twoTone",twoToneColor:"#52c41a"}})],1)])])},s=[],n=(i("6c7b"),i("c5f6"),{name:"puzzle",data:function(){return{moveStart:"",displayTips:!1,verification:!1,randomX:null,randomY:null,imgRandom:"",left_Num:0,dataWidth:260,dataHeight:120,puzzleSize:48,deviation:4,scale:1,reTimer:null,isleavePage:!1}},props:{width:{type:[String,Number],default:260},height:{type:[String,Number],default:120},cropImage:{type:[Boolean],default:!1},puzzleImgList:{type:Array,default:function(){return["../../../static/img/ver.png","../../../static/img/ver-1.png","../../../static/img/ver-2.png","../../../static/img/ver-3.png"]}},PlSize:{type:[String,Number],default:48},Deviation:{type:[String,Number],default:4},padding:{type:[Number],default:20},onSuccess:{type:Function,default:function(){alert("验证成功")}},onError:{type:Function,default:function(){alert("验证失败")}}},methods:{RandomNum:function(t,e){var i=e-t+1,a=Math.random();return t+Math.floor(a*i)},refreshImg:function(){var t=this.RandomNum(0,this.puzzleImgList.length-1);this.imgRandom=this.puzzleImgList[t],this.initCanvas()},initCanvas:function(){this.clearCanvas();var t=this.dataWidth,e=this.dataHeight,i=this.puzzleSize,a=20,s=a+i,n=t-a-i-i/6,r=a,o=e-a-i-i/6;this.randomX=this.RandomNum(s,n),this.randomY=this.RandomNum(o,r);var l=this.randomX,c=this.randomY;this.left_Num=10-l;var u=i/3,d=this.$refs.puzzleBox,h=this.$refs.puzzleLost,f=this.$refs.puzzleShadow,p=d.getContext("2d"),g=h.getContext("2d"),v=f.getContext("2d");p.globalCompositeOperation="xor",p.shadowBlur=10,p.shadowColor="#fff",p.shadowOffsetX=3,p.shadowOffsetY=3,p.fillStyle="rgba(0,0,0,0.7)",p.beginPath(),p.lineWidth="1",p.strokeStyle="rgba(0,0,0,0)",p.moveTo(l,c),p.lineTo(l+u,c),p.bezierCurveTo(l+u,c-u,l+2*u,c-u,l+2*u,c),p.lineTo(l+3*u,c),p.lineTo(l+3*u,c+u),p.bezierCurveTo(l+2*u,c+u,l+2*u,c+2*u,l+3*u,c+2*u),p.lineTo(l+3*u,c+3*u),p.lineTo(l,c+3*u),p.closePath(),p.stroke(),p.fill();var m=new Image;m.src=this.imgRandom,m.onload=function(){g.drawImage(m,0,0,t,e)},g.beginPath(),g.strokeStyle="rgba(0,0,0,0)",g.moveTo(l,c),g.lineTo(l+u,c),g.bezierCurveTo(l+u,c-u,l+2*u,c-u,l+2*u,c),g.lineTo(l+3*u,c),g.lineTo(l+3*u,c+u),g.bezierCurveTo(l+2*u,c+u,l+2*u,c+2*u,l+3*u,c+2*u),g.lineTo(l+3*u,c+3*u),g.lineTo(l,c+3*u),g.closePath(),g.stroke(),g.shadowBlur=10,g.shadowColor="black",g.clip(),v.beginPath(),v.lineWidth="1",v.strokeStyle="rgba(0,0,0,0)",v.moveTo(l,c),v.lineTo(l+u,c),v.bezierCurveTo(l+u,c-u,l+2*u,c-u,l+2*u,c),v.lineTo(l+3*u,c),v.lineTo(l+3*u,c+u),v.bezierCurveTo(l+2*u,c+u,l+2*u,c+2*u,l+3*u,c+2*u),v.lineTo(l+3*u,c+3*u),v.lineTo(l,c+3*u),v.closePath(),v.stroke(),v.shadowBlur=20,v.shadowColor="black",v.fill()},clearCanvas:function(){var t=this.$refs.puzzleBox,e=this.$refs.puzzleLost,i=this.$refs.puzzleShadow;t.setAttribute("height",t.getAttribute("height")),e.setAttribute("height",t.getAttribute("height")),i.setAttribute("height",t.getAttribute("height"))},startMove:function(t){console.log(t),t=t||window.event,this.$refs.sliderBtn.style.backgroundPosition="0 -216px",this.moveStart=t.pageX||t.targetTouches[0].pageX,this.addMouseMoveListener()},moving:function(t){var e=this;t=t||window.event;var i=t.pageX||t.targetTouches[0].pageX,a=i-e.moveStart,s=e.dataWidth,n=this.puzzleSize,r=20;return""===e.moveStart?"":a<0||a>s-r-n?"":(e.$refs.sliderBtn.style.left=a+"px",e.$refs.sliderBtn.style.transition="inherit",e.$refs.puzzleLost.style.left=a+"px",e.$refs.puzzleLost.style.transition="inherit",e.$refs.puzzleShadow.style.left=a+"px",void(e.$refs.puzzleShadow.style.transition="inherit"))},moveEnd:function(t){var e=this;t=t||window.event;var i=(t.pageX||t.changedTouches[0].pageX)-e.moveStart,a=e.randomX-10,s=this.deviation,n=a-s,r=a+s;""!==e.moveStart&&(r>i&&i>n?(e.displayTips=!0,e.verification=!0,setTimeout(function(){e.isleavePage||(e.displayTips=!1,e.initCanvas())},1e3),e.onSuccess()):(e.displayTips=!0,e.verification=!1,setTimeout(function(){e.isleavePage||(e.displayTips=!1)},2e3),e.onError())),"undefined"!==typeof e.$refs.sliderBtn&&"undefined"!==typeof e.$refs.puzzleLost&&"undefined"!==typeof e.$refs.puzzleShadow&&(e.reTimer=setTimeout(function(){e.isleavePage||(e.$refs.sliderBtn.style.left=0,e.$refs.sliderBtn.style.transition="left 0.5s",e.$refs.puzzleLost.style.left=0,e.$refs.puzzleLost.style.transition="left 0.5s",e.$refs.puzzleShadow.style.left=0,e.$refs.puzzleShadow.style.transition="left 0.5s")},1e3),e.$refs.sliderBtn.style.backgroundPosition="0 -84px"),e.moveStart=""},addMouseMoveListener:function(){var t=this;document.addEventListener("mousemove",t.moving),document.addEventListener("touchmove",t.moving),document.addEventListener("mouseup",t.moveEnd),document.addEventListener("touchend",t.moveEnd)}},mounted:function(){var t=this;this.dataWidth=.884*this.$refs.puzzle.clientWidth,this.dataHeight=this.dataWidth*(this.height/this.width),this.scale=this.$refs.puzzle.clientWidth/260,this.puzzleSize=this.dataWidth*(this.PlSize/this.width),setTimeout(t.refreshImg,0)},created:function(){var t=this.RandomNum(0,this.puzzleImgList.length-1);this.imgRandom=this.puzzleImgList[t],this.puzzleSize=Number(this.PlSize),this.deviation=Number(this.Deviation)},watch:{},beforeDestroy:function(){this.isleavePage=!0}}),r=n,o=(i("601d"),i("2877")),l=Object(o["a"])(r,a,s,!1,null,"1d55da28",null);e["a"]=l.exports},b7cc:function(t,e,i){},c5f6:function(t,e,i){"use strict";var a=i("7726"),s=i("69a8"),n=i("2d95"),r=i("5dbc"),o=i("6a99"),l=i("79e5"),c=i("9093").f,u=i("11e9").f,d=i("86cc").f,h=i("aa77").trim,f="Number",p=a[f],g=p,v=p.prototype,m=n(i("2aeb")(v))==f,z="trim"in String.prototype,b=function(t){var e=o(t,!1);if("string"==typeof e&&e.length>2){e=z?e.trim():h(e,3);var i,a,s,n=e.charCodeAt(0);if(43===n||45===n){if(i=e.charCodeAt(2),88===i||120===i)return NaN}else if(48===n){switch(e.charCodeAt(1)){case 66:case 98:a=2,s=49;break;case 79:case 111:a=8,s=55;break;default:return+e}for(var r,l=e.slice(2),c=0,u=l.length;c<u;c++)if(r=l.charCodeAt(c),r<48||r>s)return NaN;return parseInt(l,a)}}return+e};if(!p(" 0o1")||!p("0b1")||p("+0x1")){p=function(t){var e=arguments.length<1?0:t,i=this;return i instanceof p&&(m?l(function(){v.valueOf.call(i)}):n(i)!=f)?r(new g(b(e)),i,p):b(e)};for(var y,x=i("9e1e")?c(g):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),w=0;x.length>w;w++)s(g,y=x[w])&&!s(p,y)&&d(p,y,u(g,y));p.prototype=v,v.constructor=p,i("2aba")(a,f,p)}},f820:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"about"},[i("h1",[t._v("This is an about page")]),i("vPuzzle",{attrs:{width:"300",height:"200","puzzle-img-list":t.imgList,"on-success":t.test,"on-error":t.fail}})],1)},s=[],n=i("b615"),r={data:function(){return{imgList:[i("1ee4"),i("0331")]}},components:{vPuzzle:n["a"]},methods:{test:function(){console.log("succ...")},fail:function(){console.log("fail...")}}},o=r,l=i("2877"),c=Object(l["a"])(o,a,s,!1,null,null,null);e["default"]=c.exports},fdef:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}}]);
//# sourceMappingURL=chunk-0babd04c.d3075713.js.map