(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3125d3da"],{"011a":function(t,e,n){t.exports=n.p+"img/draw_btn.e44d8b25.png"},"014b":function(t,e,n){"use strict";var i=n("e53d"),r=n("07e3"),s=n("8e60"),o=n("63b6"),a=n("9138"),c=n("ebfd").KEY,u=n("294c"),f=n("dbdb"),l=n("45f2"),p=n("62a0"),d=n("5168"),h=n("ccb9"),w=n("6718"),g=n("47ee"),v=n("9003"),b=n("e4ae"),_=n("f772"),m=n("36c3"),y=n("1bc3"),P=n("aebd"),x=n("a159"),O=n("0395"),k=n("bf0b"),S=n("d9f6"),C=n("c3a1"),D=k.f,j=S.f,N=O.f,F=i.Symbol,E=i.JSON,z=E&&E.stringify,T="prototype",I=d("_hidden"),M=d("toPrimitive"),L={}.propertyIsEnumerable,A=f("symbol-registry"),R=f("symbols"),$=f("op-symbols"),H=Object[T],J="function"==typeof F,W=i.QObject,U=!W||!W[T]||!W[T].findChild,B=s&&u(function(){return 7!=x(j({},"a",{get:function(){return j(this,"a",{value:7}).a}})).a})?function(t,e,n){var i=D(H,e);i&&delete H[e],j(t,e,n),i&&t!==H&&j(H,e,i)}:j,G=function(t){var e=R[t]=x(F[T]);return e._k=t,e},K=J&&"symbol"==typeof F.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof F},Y=function(t,e,n){return t===H&&Y($,e,n),b(t),e=y(e,!0),b(n),r(R,e)?(n.enumerable?(r(t,I)&&t[I][e]&&(t[I][e]=!1),n=x(n,{enumerable:P(0,!1)})):(r(t,I)||j(t,I,P(1,{})),t[I][e]=!0),B(t,e,n)):j(t,e,n)},Q=function(t,e){b(t);var n,i=g(e=m(e)),r=0,s=i.length;while(s>r)Y(t,n=i[r++],e[n]);return t},X=function(t,e){return void 0===e?x(t):Q(x(t),e)},q=function(t){var e=L.call(this,t=y(t,!0));return!(this===H&&r(R,t)&&!r($,t))&&(!(e||!r(this,t)||!r(R,t)||r(this,I)&&this[I][t])||e)},V=function(t,e){if(t=m(t),e=y(e,!0),t!==H||!r(R,e)||r($,e)){var n=D(t,e);return!n||!r(R,e)||r(t,I)&&t[I][e]||(n.enumerable=!0),n}},Z=function(t){var e,n=N(m(t)),i=[],s=0;while(n.length>s)r(R,e=n[s++])||e==I||e==c||i.push(e);return i},tt=function(t){var e,n=t===H,i=N(n?$:m(t)),s=[],o=0;while(i.length>o)!r(R,e=i[o++])||n&&!r(H,e)||s.push(R[e]);return s};J||(F=function(){if(this instanceof F)throw TypeError("Symbol is not a constructor!");var t=p(arguments.length>0?arguments[0]:void 0),e=function(n){this===H&&e.call($,n),r(this,I)&&r(this[I],t)&&(this[I][t]=!1),B(this,t,P(1,n))};return s&&U&&B(H,t,{configurable:!0,set:e}),G(t)},a(F[T],"toString",function(){return this._k}),k.f=V,S.f=Y,n("6abf").f=O.f=Z,n("355d").f=q,n("9aa9").f=tt,s&&!n("b8e3")&&a(H,"propertyIsEnumerable",q,!0),h.f=function(t){return G(d(t))}),o(o.G+o.W+o.F*!J,{Symbol:F});for(var et="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),nt=0;et.length>nt;)d(et[nt++]);for(var it=C(d.store),rt=0;it.length>rt;)w(it[rt++]);o(o.S+o.F*!J,"Symbol",{for:function(t){return r(A,t+="")?A[t]:A[t]=F(t)},keyFor:function(t){if(!K(t))throw TypeError(t+" is not a symbol!");for(var e in A)if(A[e]===t)return e},useSetter:function(){U=!0},useSimple:function(){U=!1}}),o(o.S+o.F*!J,"Object",{create:X,defineProperty:Y,defineProperties:Q,getOwnPropertyDescriptor:V,getOwnPropertyNames:Z,getOwnPropertySymbols:tt}),E&&o(o.S+o.F*(!J||u(function(){var t=F();return"[null]"!=z([t])||"{}"!=z({a:t})||"{}"!=z(Object(t))})),"JSON",{stringify:function(t){var e,n,i=[t],r=1;while(arguments.length>r)i.push(arguments[r++]);if(n=e=i[1],(_(e)||void 0!==t)&&!K(t))return v(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!K(e))return e}),i[1]=e,z.apply(E,i)}}),F[T][M]||n("35e8")(F[T],M,F[T].valueOf),l(F,"Symbol"),l(Math,"Math",!0),l(i.JSON,"JSON",!0)},"0395":function(t,e,n){var i=n("36c3"),r=n("6abf").f,s={}.toString,o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],a=function(t){try{return r(t)}catch(e){return o.slice()}};t.exports.f=function(t){return o&&"[object Window]"==s.call(t)?a(t):r(i(t))}},"0a90":function(t,e,n){var i=n("63b6"),r=n("10ff");i(i.G+i.F*(parseFloat!=r),{parseFloat:r})},"10ff":function(t,e,n){var i=n("e53d").parseFloat,r=n("a1ce").trim;t.exports=1/i(n("e692")+"-0")!==-1/0?function(t){var e=r(String(t),3),n=i(e);return 0===n&&"-"==e.charAt(0)?-0:n}:i},"205e":function(t,e,n){t.exports=n.p+"img/go-rule-draw.8c519a9d.png"},"268f":function(t,e,n){t.exports=n("fde4")},"2a74":function(t,e,n){t.exports=n.p+"img/my-record.a9014d09.png"},"2fb0":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"luck-draw-page"},[i("van-nav-bar",{attrs:{title:"","left-arrow":"",border:!1},on:{"click-left":t.goBack}}),i("img",{staticClass:"go-rule",attrs:{src:n("205e"),alt:""},on:{click:t.goRulePage}}),i("div",{staticClass:"space"}),i("div",{staticClass:"wheel-main"},[i("div",{staticClass:"wheel-pointer-box"},[i("div",{staticClass:"wheel-pointer",style:{transform:t.rotate_angle_pointer,transition:t.rotate_transition_pointer},on:{click:function(e){return t.rotate_handle()}}},[i("img",{attrs:{src:n("011a"),alt:""}})])]),i("div",{staticClass:"wheel-bg",style:{transform:t.rotate_angle,transition:t.rotate_transition}},[i("div",{staticClass:"prize-list"},t._l(t.prizeList,function(e,n){return i("div",{key:n,staticClass:"prize-item"},[i("div",{staticClass:"prize-name"},[t._v("\n                            "+t._s(e.prize)+"\n                        ")]),i("div",{staticClass:"prize-pic"},[i("img",{attrs:{src:e.prize_img}})])])}),0)])]),i("div",{staticClass:"money"},[t._v("我的蚪金："+t._s(t.user_info.dw_money))]),i("div",{staticClass:"my-record"},[i("img",{attrs:{src:n("2a74"),alt:""},on:{click:t.goMore}})]),i("div",{staticClass:"win-box"},[i("div",{staticClass:"win-content"},[t._m(0),i("div",{staticClass:"win-list"},[t._m(1),i("div",{staticClass:"win-list-item-box"},[i("vueSeamless",{attrs:{data:t.winList,"class-option":t.option}},t._l(t.winList,function(e,n){return i("div",{key:n,staticClass:"win-list-item"},[i("div",[t._v(t._s(t._f("timeFormat")(e.add_time)))]),i("div",[t._v(t._s(t._f("userNameFormat")(e.user_name)))]),i("div",[t._v(t._s(e.prize))])])}),0)],1)])])]),i("van-popup",{model:{value:t.showDrawNoticePopup,callback:function(e){t.showDrawNoticePopup=e},expression:"showDrawNoticePopup"}},[i("div",{staticClass:"guess-box"},[i("img",{attrs:{src:n("3dbd"),alt:""}}),i("div",{staticClass:"guess-content"},[i("div",{staticClass:"guess-content-text"},[t._v("您正在进行幸运转盘抽奖需消耗20蚪金，是否确认操作？")]),i("div",{staticClass:"tip-box"},[i("van-checkbox",{model:{value:t.noTip,callback:function(e){t.noTip=e},expression:"noTip"}},[t._v("不再提示")])],1),i("div",{staticClass:"guess-btn-box"},[i("img",{attrs:{src:n("77ca"),alt:""},on:{click:t.closeDrawNotice}}),i("img",{attrs:{src:n("757f"),alt:""},on:{click:t.showPayPassword}})])])])]),i("van-popup",{model:{value:t.showDrawResultPopup,callback:function(e){t.showDrawResultPopup=e},expression:"showDrawResultPopup"}},[i("div",{staticClass:"guess-box"},[i("img",{attrs:{src:n("3dbd"),alt:""}}),i("div",{staticClass:"guess-content"},[i("div",{staticClass:"guess-content-text"},[i("div",[t._v(t._s(t.draw_result.prize))])]),i("div",{staticClass:"draw-result-btn",on:{click:t.drawAgain}},[t._v("再抽一次")])])])]),t.showPayPasswordPopup?i("div",{staticClass:"popup"},[i("div",{staticClass:"popup-shadow"}),i("div",{staticClass:"popup-password-input"},[i("div",{staticClass:"popup-password-input-title"},[i("van-icon",{attrs:{name:"cross"},on:{click:t.closePayPassword}}),i("span",[t._v("输入支付密码，以验证身份")])],1),i("van-password-input",{attrs:{value:t.payPw}}),i("van-number-keyboard",{attrs:{show:!0,"hide-on-click-outside":!1},on:{input:t.onInput,delete:t.onDelete}})],1)]):t._e()],1)},r=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"win-title"},[n("div",{staticClass:"win-title-line"}),n("div",{staticClass:"win-title-text"},[t._v("中奖用户")]),n("div",{staticClass:"win-title-line"})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"win-list-item win-list-item-title"},[n("div",[t._v("中奖时间")]),n("div",[t._v("获奖人")]),n("div",[t._v("奖品名称")])])}],s=n("59ad"),o=n.n(s),a=n("e814"),c=n.n(a),u=n("cebc"),f=n("2f62"),l=n("a939"),p=n.n(l),d={data:function(){return{winList:[],prizeList:[],start_rotating_degree:0,rotate_angle:0,start_rotating_degree_pointer:0,rotate_angle_pointer:0,rotate_transition:"transform 6s ease-in-out",rotate_transition_pointer:"transform 12s ease-in-out",click_flag:!0,index:0,showDrawNoticePopup:!1,noTip:!1,showPayPasswordPopup:!1,payPw:"",showDrawResultPopup:!1,draw_result:{},option:{step:1,limitMoveNum:9,hoverStop:!1,openTouch:!1,waitTime:10,direction:1,singleHeight:30}}},components:{vueSeamless:p.a},computed:Object(u["a"])({},Object(f["c"])(["user_info"])),filters:{timeFormat:function(t){var e=1e3*c()(t),n=new Date(e),i=(n.getFullYear(),n.getMonth()+1<10?n.getMonth():n.getMonth(),n.getDate()<10?n.getDate():n.getDate(),n.getHours()<10?"0"+n.getHours():n.getHours()),r=n.getMinutes()<10?"0"+n.getMinutes():n.getMinutes(),s=n.getSeconds()<10?"0"+n.getSeconds():n.getSeconds();return i+":"+r+":"+s},userNameFormat:function(t){var e=t+"";if(e.length>=3){var n=e.substring(0,1),i=e.substring(e.length-1,e.length);return n+"**"+i}}},created:function(){this.utils.info("user_info...",this.user_info),this.$route.params.id?(this.utils.info("有id...已登录..."),this.user_info.user_id=this.$route.params.id):(this.utils.info("没有id...未登录..."),this.user_info.user_id=1),this.utils.info("user_info...",this.user_info),this.getUserInfo("1")},mounted:function(){},methods:Object(u["a"])({},Object(f["b"])(["changeUserInfo"]),{goBack:function(){this.utils.info("返回app..."),this.$bridge.callhandler("goBack",{tag:"返回app"},function(t){})},goRulePage:function(){this.$router.push({name:"luckDrawRule"})},goMore:function(){this.utils.info("战绩更多"),this.$bridge.callhandler("goMore",{tag:"战绩更多"},function(t){})},getUserInfo:function(t){var e=this,n="dy"+this.user_info.user_id+this.utils.randomNumber(4);this.http.post(this.http._HOST+"login/user_detail",{user_id:n}).then(function(n){if(e.utils.info("获取用户信息...",n),n.success){var i=n.data;e.user_info.dw_money=i.dw_money,e.user_info.pay_password=i.pay_password,e.user_info.token=i.token,"1"==t&&(e.getPrizeList(),e.getWinList())}})},getPrizeList:function(){var t=this,e={token:this.user_info.token};this.http.post(this.http._HOST+"turntable/prize",e).then(function(e){t.utils.info("获取奖品列表...",e),e.success&&(t.prizeList=e.data)})},getWinList:function(){var t=this,e={token:this.user_info.token};this.http.post(this.http._HOST+"turntable/record",e).then(function(e){t.utils.info("获取中奖用户列表...",e),e.success&&(t.winList=e.data.reverse())})},rotate_handle:function(){return""==this.user_info.pay_password?(this.utils.showAlert("请先设置支付密码"),!1):c()(this.user_info.dw_money)<20?(this.utils.showAlert("您的蚪金金额不足"),!1):void(this.noTip?this.showPayPassword():this.showDrawNotice())},drawAgain:function(){if(c()(this.user_info.dw_money)<20)return this.utils.showAlert("您的蚪金金额不足"),!1;this.showDrawResultPopup=!1,this.showPayPasswordPopup=!0},rotating:function(){if(this.click_flag){var t=0,e=5,n=(Math.floor(7*Math.random()),this.index),i=[337.5,292.5,247.5,202.5,157.5,112.5,67.5,22.5],r=6;if(this.click_flag=!1,0==t){var s=this.start_rotating_degree+360*r+i[n]-this.start_rotating_degree%360;this.start_rotating_degree=s,this.rotate_angle="rotate("+s+"deg)";var o=this;setTimeout(function(){o.click_flag=!0,o.game_over()},1e3*e+1500)}}},game_over:function(){this.getUserInfo("2"),this.showDrawResultPopup=!0},showDrawNotice:function(){this.showDrawNoticePopup=!0},closeDrawNotice:function(){this.showDrawNoticePopup=!1},showPayPassword:function(){this.showDrawNoticePopup=!1,this.showPayPasswordPopup=!0},closePayPassword:function(){this.showPayPasswordPopup=!1,this.payPw=""},onInput:function(t){var e=this;if(this.payPw=(this.payPw+t).slice(0,6),6==this.payPw.length){var n={pay_password:this.payPw,token:this.user_info.token};this.utils.showLoading(),this.closePayPassword(),this.http.post(this.http._HOST+"turntable/draw",n).then(function(t){e.utils.info("验证密码...",t),e.utils.dismissLoading(),t.success?(e.user_info.dw_money=(o()(e.user_info.dw_money)-20).toFixed(2),e.draw_result=t.data,e.index=c()(t.data.id)-1,e.rotating()):e.utils.showAlert(t.message)})}},onDelete:function(){this.payPw=this.payPw.slice(0,this.payPw.length-1)}})},h=d,w=(n("97b0"),n("2877")),g=Object(w["a"])(h,i,r,!1,null,"319d43ff",null);e["default"]=g.exports},"32a6":function(t,e,n){var i=n("241e"),r=n("c3a1");n("ce7e")("keys",function(){return function(t){return r(i(t))}})},"355d":function(t,e){e.f={}.propertyIsEnumerable},"3dbd":function(t,e,n){t.exports=n.p+"img/draw-notice.0f411f8b.png"},"454f":function(t,e,n){n("46a7");var i=n("584a").Object;t.exports=function(t,e,n){return i.defineProperty(t,e,n)}},"46a7":function(t,e,n){var i=n("63b6");i(i.S+i.F*!n("8e60"),"Object",{defineProperty:n("d9f6").f})},"47ee":function(t,e,n){var i=n("c3a1"),r=n("9aa9"),s=n("355d");t.exports=function(t){var e=i(t),n=r.f;if(n){var o,a=n(t),c=s.f,u=0;while(a.length>u)c.call(t,o=a[u++])&&e.push(o)}return e}},"59ad":function(t,e,n){t.exports=n("7be7")},"5d6b":function(t,e,n){var i=n("e53d").parseInt,r=n("a1ce").trim,s=n("e692"),o=/^[-+]?0[xX]/;t.exports=8!==i(s+"08")||22!==i(s+"0x16")?function(t,e){var n=r(String(t),3);return i(n,e>>>0||(o.test(n)?16:10))}:i},6718:function(t,e,n){var i=n("e53d"),r=n("584a"),s=n("b8e3"),o=n("ccb9"),a=n("d9f6").f;t.exports=function(t){var e=r.Symbol||(r.Symbol=s?{}:i.Symbol||{});"_"==t.charAt(0)||t in e||a(e,t,{value:o.f(t)})}},"6abf":function(t,e,n){var i=n("e6f3"),r=n("1691").concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return i(t,r)}},7445:function(t,e,n){var i=n("63b6"),r=n("5d6b");i(i.G+i.F*(parseInt!=r),{parseInt:r})},"757f":function(t,e,n){t.exports=n.p+"img/draw-notice-confirm.e7a6365f.png"},"77ca":function(t,e,n){t.exports=n.p+"img/draw-notice-cancal.84ba078f.png"},"7be7":function(t,e,n){n("0a90"),t.exports=n("584a").parseFloat},"85f2":function(t,e,n){t.exports=n("454f")},"87e0":function(t,e,n){},"8aae":function(t,e,n){n("32a6"),t.exports=n("584a").Object.keys},9003:function(t,e,n){var i=n("6b4c");t.exports=Array.isArray||function(t){return"Array"==i(t)}},"97b0":function(t,e,n){"use strict";var i=n("87e0"),r=n.n(i);r.a},"9aa9":function(t,e){e.f=Object.getOwnPropertySymbols},a1ce:function(t,e,n){var i=n("63b6"),r=n("25eb"),s=n("294c"),o=n("e692"),a="["+o+"]",c="​",u=RegExp("^"+a+a+"*"),f=RegExp(a+a+"*$"),l=function(t,e,n){var r={},a=s(function(){return!!o[t]()||c[t]()!=c}),u=r[t]=a?e(p):o[t];n&&(r[n]=u),i(i.P+i.F*a,"String",r)},p=l.trim=function(t,e){return t=String(r(t)),1&e&&(t=t.replace(u,"")),2&e&&(t=t.replace(f,"")),t};t.exports=l},a4bb:function(t,e,n){t.exports=n("8aae")},b9e9:function(t,e,n){n("7445"),t.exports=n("584a").parseInt},bf0b:function(t,e,n){var i=n("355d"),r=n("aebd"),s=n("36c3"),o=n("1bc3"),a=n("07e3"),c=n("794b"),u=Object.getOwnPropertyDescriptor;e.f=n("8e60")?u:function(t,e){if(t=s(t),e=o(e,!0),c)try{return u(t,e)}catch(n){}if(a(t,e))return r(!i.f.call(t,e),t[e])}},bf90:function(t,e,n){var i=n("36c3"),r=n("bf0b").f;n("ce7e")("getOwnPropertyDescriptor",function(){return function(t,e){return r(i(t),e)}})},ccb9:function(t,e,n){e.f=n("5168")},ce7e:function(t,e,n){var i=n("63b6"),r=n("584a"),s=n("294c");t.exports=function(t,e){var n=(r.Object||{})[t]||Object[t],o={};o[t]=e(n),i(i.S+i.F*s(function(){n(1)}),"Object",o)}},cebc:function(t,e,n){"use strict";var i=n("268f"),r=n.n(i),s=n("e265"),o=n.n(s),a=n("a4bb"),c=n.n(a),u=n("85f2"),f=n.n(u);function l(t,e,n){return e in t?f()(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function p(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},i=c()(n);"function"===typeof o.a&&(i=i.concat(o()(n).filter(function(t){return r()(n,t).enumerable}))),i.forEach(function(e){l(t,e,n[e])})}return t}n.d(e,"a",function(){return p})},e265:function(t,e,n){t.exports=n("ed33")},e692:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},e814:function(t,e,n){t.exports=n("b9e9")},ebfd:function(t,e,n){var i=n("62a0")("meta"),r=n("f772"),s=n("07e3"),o=n("d9f6").f,a=0,c=Object.isExtensible||function(){return!0},u=!n("294c")(function(){return c(Object.preventExtensions({}))}),f=function(t){o(t,i,{value:{i:"O"+ ++a,w:{}}})},l=function(t,e){if(!r(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!s(t,i)){if(!c(t))return"F";if(!e)return"E";f(t)}return t[i].i},p=function(t,e){if(!s(t,i)){if(!c(t))return!0;if(!e)return!1;f(t)}return t[i].w},d=function(t){return u&&h.NEED&&c(t)&&!s(t,i)&&f(t),t},h=t.exports={KEY:i,NEED:!1,fastKey:l,getWeak:p,onFreeze:d}},ed33:function(t,e,n){n("014b"),t.exports=n("584a").Object.getOwnPropertySymbols},fde4:function(t,e,n){n("bf90");var i=n("584a").Object;t.exports=function(t,e){return i.getOwnPropertyDescriptor(t,e)}}}]);
//# sourceMappingURL=chunk-3125d3da.6fe22756.js.map