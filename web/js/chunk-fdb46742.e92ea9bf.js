(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-fdb46742"],{"014b":function(t,e,n){"use strict";var i=n("e53d"),r=n("07e3"),o=n("8e60"),s=n("63b6"),a=n("9138"),c=n("ebfd").KEY,u=n("294c"),f=n("dbdb"),l=n("45f2"),p=n("62a0"),h=n("5168"),d=n("ccb9"),g=n("6718"),b=n("47ee"),v=n("9003"),w=n("e4ae"),_=n("f772"),m=n("36c3"),y=n("1bc3"),P=n("aebd"),x=n("a159"),O=n("0395"),k=n("bf0b"),S=n("d9f6"),C=n("c3a1"),j=k.f,D=S.f,N=O.f,E=i.Symbol,F=i.JSON,z=F&&F.stringify,I="prototype",T=h("_hidden"),M=h("toPrimitive"),L={}.propertyIsEnumerable,$=f("symbol-registry"),H=f("symbols"),J=f("op-symbols"),A=Object[I],R="function"==typeof E,W=i.QObject,U=!W||!W[I]||!W[I].findChild,B=o&&u(function(){return 7!=x(D({},"a",{get:function(){return D(this,"a",{value:7}).a}})).a})?function(t,e,n){var i=j(A,e);i&&delete A[e],D(t,e,n),i&&t!==A&&D(A,e,i)}:D,K=function(t){var e=H[t]=x(E[I]);return e._k=t,e},Y=R&&"symbol"==typeof E.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof E},G=function(t,e,n){return t===A&&G(J,e,n),w(t),e=y(e,!0),w(n),r(H,e)?(n.enumerable?(r(t,T)&&t[T][e]&&(t[T][e]=!1),n=x(n,{enumerable:P(0,!1)})):(r(t,T)||D(t,T,P(1,{})),t[T][e]=!0),B(t,e,n)):D(t,e,n)},Q=function(t,e){w(t);var n,i=b(e=m(e)),r=0,o=i.length;while(o>r)G(t,n=i[r++],e[n]);return t},X=function(t,e){return void 0===e?x(t):Q(x(t),e)},q=function(t){var e=L.call(this,t=y(t,!0));return!(this===A&&r(H,t)&&!r(J,t))&&(!(e||!r(this,t)||!r(H,t)||r(this,T)&&this[T][t])||e)},V=function(t,e){if(t=m(t),e=y(e,!0),t!==A||!r(H,e)||r(J,e)){var n=j(t,e);return!n||!r(H,e)||r(t,T)&&t[T][e]||(n.enumerable=!0),n}},Z=function(t){var e,n=N(m(t)),i=[],o=0;while(n.length>o)r(H,e=n[o++])||e==T||e==c||i.push(e);return i},tt=function(t){var e,n=t===A,i=N(n?J:m(t)),o=[],s=0;while(i.length>s)!r(H,e=i[s++])||n&&!r(A,e)||o.push(H[e]);return o};R||(E=function(){if(this instanceof E)throw TypeError("Symbol is not a constructor!");var t=p(arguments.length>0?arguments[0]:void 0),e=function(n){this===A&&e.call(J,n),r(this,T)&&r(this[T],t)&&(this[T][t]=!1),B(this,t,P(1,n))};return o&&U&&B(A,t,{configurable:!0,set:e}),K(t)},a(E[I],"toString",function(){return this._k}),k.f=V,S.f=G,n("6abf").f=O.f=Z,n("355d").f=q,n("9aa9").f=tt,o&&!n("b8e3")&&a(A,"propertyIsEnumerable",q,!0),d.f=function(t){return K(h(t))}),s(s.G+s.W+s.F*!R,{Symbol:E});for(var et="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),nt=0;et.length>nt;)h(et[nt++]);for(var it=C(h.store),rt=0;it.length>rt;)g(it[rt++]);s(s.S+s.F*!R,"Symbol",{for:function(t){return r($,t+="")?$[t]:$[t]=E(t)},keyFor:function(t){if(!Y(t))throw TypeError(t+" is not a symbol!");for(var e in $)if($[e]===t)return e},useSetter:function(){U=!0},useSimple:function(){U=!1}}),s(s.S+s.F*!R,"Object",{create:X,defineProperty:G,defineProperties:Q,getOwnPropertyDescriptor:V,getOwnPropertyNames:Z,getOwnPropertySymbols:tt}),F&&s(s.S+s.F*(!R||u(function(){var t=E();return"[null]"!=z([t])||"{}"!=z({a:t})||"{}"!=z(Object(t))})),"JSON",{stringify:function(t){var e,n,i=[t],r=1;while(arguments.length>r)i.push(arguments[r++]);if(n=e=i[1],(_(e)||void 0!==t)&&!Y(t))return v(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!Y(e))return e}),i[1]=e,z.apply(F,i)}}),E[I][M]||n("35e8")(E[I],M,E[I].valueOf),l(E,"Symbol"),l(Math,"Math",!0),l(i.JSON,"JSON",!0)},"0395":function(t,e,n){var i=n("36c3"),r=n("6abf").f,o={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],a=function(t){try{return r(t)}catch(e){return s.slice()}};t.exports.f=function(t){return s&&"[object Window]"==o.call(t)?a(t):r(i(t))}},"0c1f":function(t,e,n){"use strict";var i=n("a049"),r=n.n(i);r.a},"205e":function(t,e,n){t.exports=n.p+"img/go-rule-draw.8c519a9d.png"},"268f":function(t,e,n){t.exports=n("fde4")},"2a74":function(t,e,n){t.exports=n.p+"img/my-record.a9014d09.png"},"2fb0":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"luck-draw-page"},[i("van-nav-bar",{attrs:{title:"","left-arrow":"",border:!1},on:{"click-left":t.goBack}}),i("img",{staticClass:"go-rule",attrs:{src:n("205e"),alt:""},on:{click:t.goRulePage}}),i("div",{staticClass:"space"}),i("div",{staticClass:"wheel-main"},[i("div",{staticClass:"wheel-pointer-box"},[i("div",{staticClass:"wheel-pointer",style:{transform:t.rotate_angle_pointer,transition:t.rotate_transition_pointer},on:{click:function(e){return t.rotate_handle()}}})]),i("div",{staticClass:"wheel-bg",style:{transform:t.rotate_angle,transition:t.rotate_transition}},[i("div",{staticClass:"prize-list"},t._l(t.prizeList,function(e,n){return i("div",{key:n,staticClass:"prize-item"},[i("div",{staticClass:"prize-name"},[t._v("\n                            "+t._s(e.prize)+"\n                        ")]),i("div",{staticClass:"prize-pic"},[i("img",{attrs:{src:e.prize_img}})])])}),0)])]),i("div",{staticClass:"money"},[t._v("我的蚪金："+t._s(t.user_info.dw_money))]),i("div",{staticClass:"my-record"},[i("img",{attrs:{src:n("2a74"),alt:""},on:{click:t.goMore}})]),i("div",{staticClass:"win-box"},[i("div",{staticClass:"win-content"},[t._m(0),i("div",{staticClass:"win-list"},[t._m(1),t._l(t.winList,function(e,n){return i("div",{key:n,staticClass:"win-list-item"},[i("div",[t._v(t._s(t._f("timeFormat")(e.add_time)))]),i("div",[t._v(t._s(t._f("userNameFormat")(e.user_name)))]),i("div",[t._v(t._s(e.prize))])])})],2)])]),i("van-popup",{model:{value:t.showDrawNoticePopup,callback:function(e){t.showDrawNoticePopup=e},expression:"showDrawNoticePopup"}},[i("div",{staticClass:"guess-box"},[i("img",{attrs:{src:n("3dbd"),alt:""}}),i("div",{staticClass:"guess-content"},[i("div",{staticClass:"guess-content-text"},[t._v("您正在进行幸运转盘抽奖需消耗20蚪金，是否确认操作？")]),i("div",{staticClass:"tip-box"},[i("van-checkbox",{model:{value:t.noTip,callback:function(e){t.noTip=e},expression:"noTip"}},[t._v("不再提示")])],1),i("div",{staticClass:"guess-btn-box"},[i("img",{attrs:{src:n("77ca"),alt:""},on:{click:t.closeDrawNotice}}),i("img",{attrs:{src:n("757f"),alt:""},on:{click:t.showPayPassword}})])])])]),t.showPayPasswordPopup?i("div",{staticClass:"popup"},[i("div",{staticClass:"popup-shadow",on:{click:t.closePayPassword}}),i("div",{staticClass:"popup-password-input"},[i("div",{staticClass:"popup-password-input-title"},[i("van-icon",{attrs:{name:"cross"},on:{click:t.closePayPassword}}),i("span",[t._v("输入支付密码，以验证身份")])],1),i("van-password-input",{attrs:{value:t.payPw}}),i("van-number-keyboard",{attrs:{show:!0,"hide-on-click-outside":!1},on:{input:t.onInput,delete:t.onDelete}})],1)]):t._e()],1)},r=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"win-title"},[n("div",{staticClass:"win-title-line"}),n("div",{staticClass:"win-title-text"},[t._v("中奖用户")]),n("div",{staticClass:"win-title-line"})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"win-list-item win-list-item-title"},[n("div",[t._v("中奖时间")]),n("div",[t._v("获奖人")]),n("div",[t._v("奖品名称")])])}],o=n("e814"),s=n.n(o),a=n("268f"),c=n.n(a),u=n("e265"),f=n.n(u),l=n("a4bb"),p=n.n(l),h=n("85f2"),d=n.n(h);function g(t,e,n){return e in t?d()(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function b(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},i=p()(n);"function"===typeof f.a&&(i=i.concat(f()(n).filter(function(t){return c()(n,t).enumerable}))),i.forEach(function(e){g(t,e,n[e])})}return t}var v=n("2f62"),w={data:function(){return{winList:[],prizeList:[],start_rotating_degree:0,rotate_angle:0,start_rotating_degree_pointer:0,rotate_angle_pointer:0,rotate_transition:"transform 6s ease-in-out",rotate_transition_pointer:"transform 12s ease-in-out",click_flag:!0,index:0,showDrawNoticePopup:!1,noTip:!1,showPayPasswordPopup:!1,payPw:""}},computed:b({},Object(v["c"])(["user_info"])),filters:{timeFormat:function(t){var e=1e3*s()(t),n=new Date(e),i=(n.getFullYear(),n.getMonth()+1<10?n.getMonth():n.getMonth(),n.getDate()<10?n.getDate():n.getDate(),n.getHours()<10?"0"+n.getHours():n.getHours()),r=n.getMinutes()<10?"0"+n.getMinutes():n.getMinutes(),o=n.getSeconds()<10?"0"+n.getSeconds():n.getSeconds();return i+":"+r+":"+o},userNameFormat:function(t){var e=t+"";if(e.length>=3){var n=e.substring(0,1),i=e.substring(e.length-1,e.length);return n+"**"+i}}},created:function(){this.utils.info("user_info...",this.user_info),this.$route.params.id?(this.utils.info("有id...已登录..."),this.user_info.user_id=this.$route.params.id):(this.utils.info("没有id...未登录..."),this.user_info.user_id=1),this.utils.info("user_info...",this.user_info),this.getUserInfo("1")},mounted:function(){},methods:b({},Object(v["b"])(["changeUserInfo"]),{goBack:function(){this.utils.info("返回app..."),this.$bridge.callhandler("goBack",{tag:"返回app"},function(t){})},goRulePage:function(){this.$router.push({name:"luckDrawRule"})},goMore:function(){this.utils.info("战绩更多"),this.$bridge.callhandler("goMore",{tag:"战绩更多"},function(t){})},getUserInfo:function(t){var e=this,n="dy"+this.user_info.user_id+this.utils.randomNumber(4);this.http.post(this.http._HOST+"login/user_detail",{user_id:n}).then(function(n){if(e.utils.info("获取用户信息...",n),n.success){var i=n.data;e.user_info.dw_money=i.dw_money,e.user_info.pay_password=i.pay_password,e.user_info.token=i.token,"1"==t&&(e.getPrizeList(),e.getWinList())}})},getPrizeList:function(){var t=this,e={token:this.user_info.token};this.http.post(this.http._HOST+"turntable/prize",e).then(function(e){t.utils.info("获取奖品列表...",e),e.success&&(t.prizeList=e.data)})},getWinList:function(){var t=this,e={token:this.user_info.token};this.http.post(this.http._HOST+"turntable/record",e).then(function(e){t.utils.info("获取中奖用户列表...",e),e.success&&(t.winList=e.data)})},rotate_handle:function(){this.noTip?this.showPayPassword():this.showDrawNotice()},rotating:function(){if(this.click_flag){var t=0,e=5,n=(Math.floor(7*Math.random()),this.index),i=[337.5,292.5,247.5,202.5,157.5,112.5,67.5,22.5],r=6;if(this.click_flag=!1,0==t){var o=this.start_rotating_degree+360*r+i[n]-this.start_rotating_degree%360;this.start_rotating_degree=o,this.rotate_angle="rotate("+o+"deg)";var s=this;setTimeout(function(){s.click_flag=!0,s.game_over()},1e3*e+1500)}}},game_over:function(){this.toast_control=!0},showDrawNotice:function(){this.showDrawNoticePopup=!0},closeDrawNotice:function(){this.showDrawNoticePopup=!1},showPayPassword:function(){this.showDrawNoticePopup=!1,this.showPayPasswordPopup=!0},closePayPassword:function(){this.showPayPasswordPopup=!1,this.payPw="",this.utils.showToast("您放弃了支付")},onInput:function(t){var e=this;if(this.payPw=(this.payPw+t).slice(0,6),6==this.payPw.length){var n={pay_password:this.payPw,token:this.user_info.token};this.utils.showLoading(),this.http.post(this.http._HOST+"turntable/draw",n).then(function(t){e.utils.info("验证密码...",t),e.utils.dismissLoading(),t.success?(e.getUserInfo("2"),e.closePayPassword()):e.utils.showAlert(t.message)})}},onDelete:function(){this.payPw=this.payPw.slice(0,this.payPw.length-1)}})},_=w,m=(n("0c1f"),n("2877")),y=Object(m["a"])(_,i,r,!1,null,"4b88bec9",null);e["default"]=y.exports},"32a6":function(t,e,n){var i=n("241e"),r=n("c3a1");n("ce7e")("keys",function(){return function(t){return r(i(t))}})},"355d":function(t,e){e.f={}.propertyIsEnumerable},"3dbd":function(t,e,n){t.exports=n.p+"img/draw-notice.0f411f8b.png"},"454f":function(t,e,n){n("46a7");var i=n("584a").Object;t.exports=function(t,e,n){return i.defineProperty(t,e,n)}},"46a7":function(t,e,n){var i=n("63b6");i(i.S+i.F*!n("8e60"),"Object",{defineProperty:n("d9f6").f})},"47ee":function(t,e,n){var i=n("c3a1"),r=n("9aa9"),o=n("355d");t.exports=function(t){var e=i(t),n=r.f;if(n){var s,a=n(t),c=o.f,u=0;while(a.length>u)c.call(t,s=a[u++])&&e.push(s)}return e}},"5d6b":function(t,e,n){var i=n("e53d").parseInt,r=n("a1ce").trim,o=n("e692"),s=/^[-+]?0[xX]/;t.exports=8!==i(o+"08")||22!==i(o+"0x16")?function(t,e){var n=r(String(t),3);return i(n,e>>>0||(s.test(n)?16:10))}:i},6718:function(t,e,n){var i=n("e53d"),r=n("584a"),o=n("b8e3"),s=n("ccb9"),a=n("d9f6").f;t.exports=function(t){var e=r.Symbol||(r.Symbol=o?{}:i.Symbol||{});"_"==t.charAt(0)||t in e||a(e,t,{value:s.f(t)})}},"6abf":function(t,e,n){var i=n("e6f3"),r=n("1691").concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return i(t,r)}},7445:function(t,e,n){var i=n("63b6"),r=n("5d6b");i(i.G+i.F*(parseInt!=r),{parseInt:r})},"757f":function(t,e,n){t.exports=n.p+"img/draw-notice-confirm.e7a6365f.png"},"77ca":function(t,e,n){t.exports=n.p+"img/draw-notice-cancal.84ba078f.png"},"85f2":function(t,e,n){t.exports=n("454f")},"8aae":function(t,e,n){n("32a6"),t.exports=n("584a").Object.keys},9003:function(t,e,n){var i=n("6b4c");t.exports=Array.isArray||function(t){return"Array"==i(t)}},"9aa9":function(t,e){e.f=Object.getOwnPropertySymbols},a049:function(t,e,n){},a1ce:function(t,e,n){var i=n("63b6"),r=n("25eb"),o=n("294c"),s=n("e692"),a="["+s+"]",c="​",u=RegExp("^"+a+a+"*"),f=RegExp(a+a+"*$"),l=function(t,e,n){var r={},a=o(function(){return!!s[t]()||c[t]()!=c}),u=r[t]=a?e(p):s[t];n&&(r[n]=u),i(i.P+i.F*a,"String",r)},p=l.trim=function(t,e){return t=String(r(t)),1&e&&(t=t.replace(u,"")),2&e&&(t=t.replace(f,"")),t};t.exports=l},a4bb:function(t,e,n){t.exports=n("8aae")},b9e9:function(t,e,n){n("7445"),t.exports=n("584a").parseInt},bf0b:function(t,e,n){var i=n("355d"),r=n("aebd"),o=n("36c3"),s=n("1bc3"),a=n("07e3"),c=n("794b"),u=Object.getOwnPropertyDescriptor;e.f=n("8e60")?u:function(t,e){if(t=o(t),e=s(e,!0),c)try{return u(t,e)}catch(n){}if(a(t,e))return r(!i.f.call(t,e),t[e])}},bf90:function(t,e,n){var i=n("36c3"),r=n("bf0b").f;n("ce7e")("getOwnPropertyDescriptor",function(){return function(t,e){return r(i(t),e)}})},ccb9:function(t,e,n){e.f=n("5168")},ce7e:function(t,e,n){var i=n("63b6"),r=n("584a"),o=n("294c");t.exports=function(t,e){var n=(r.Object||{})[t]||Object[t],s={};s[t]=e(n),i(i.S+i.F*o(function(){n(1)}),"Object",s)}},e265:function(t,e,n){t.exports=n("ed33")},e692:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},e814:function(t,e,n){t.exports=n("b9e9")},ebfd:function(t,e,n){var i=n("62a0")("meta"),r=n("f772"),o=n("07e3"),s=n("d9f6").f,a=0,c=Object.isExtensible||function(){return!0},u=!n("294c")(function(){return c(Object.preventExtensions({}))}),f=function(t){s(t,i,{value:{i:"O"+ ++a,w:{}}})},l=function(t,e){if(!r(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,i)){if(!c(t))return"F";if(!e)return"E";f(t)}return t[i].i},p=function(t,e){if(!o(t,i)){if(!c(t))return!0;if(!e)return!1;f(t)}return t[i].w},h=function(t){return u&&d.NEED&&c(t)&&!o(t,i)&&f(t),t},d=t.exports={KEY:i,NEED:!1,fastKey:l,getWeak:p,onFreeze:h}},ed33:function(t,e,n){n("014b"),t.exports=n("584a").Object.getOwnPropertySymbols},fde4:function(t,e,n){n("bf90");var i=n("584a").Object;t.exports=function(t,e){return i.getOwnPropertyDescriptor(t,e)}}}]);
//# sourceMappingURL=chunk-fdb46742.e92ea9bf.js.map